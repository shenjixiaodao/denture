<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yuzi.denture.data.mapper.DentureOrderMapper" >


    <resultMap id="baseRM" type="com.yuzi.denture.domain.DentureOrder">
        <result column="id" property="id" />
        <result column="denture_id" property="dentureId" />
        <result column="clinic_id" property="clinic.id" />
        <result column="factory_id" property="factory.id" />
        <result column="created_date" property="createdDate" />
        <result column="pay_amount" property="payAmount" />
        <result column="status" property="status" />
        <result column="model_delivery_id" property="modelDeliveryInfo.id" />
        <result column="denture_delivery_id" property="dentureDeliveryInfo.id" />
        <result column="received_date" property="receivedDate" />
        <result column="installed_date" property="installedDate" />
        <result column="clinic_user" property="clinicUser.id" />
        <result column="patient_id" property="patient.id" />
        <result column="recorder_id" property="recorder.id" />
        <result column="comment" property="comment" />
    </resultMap>

    <select id="findOrderById" parameterType="String" resultMap="baseRM">
        SELECT * FROM denture_order do
        WHERE do.id=#{orderId}
    </select>
    <select id="findOrdersByFactoryId" parameterType="Long" resultMap="baseRM">
        SELECT * FROM denture_order do
        WHERE do.factory_id=#{factoryId}
    </select>
</mapper>